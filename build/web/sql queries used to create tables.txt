create database notes_organization_system;

use notes_organization_system;

CREATE TABLE Users ( user_id INT AUTO_INCREMENT PRIMARY KEY, username VARCHAR(50) UNIQUE NOT NULL, password VARCHAR(255) NOT NULL, email VARCHAR(100) UNIQUE NOT NULL, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, last_login TIMESTAMP DEFAULT CURRENT_TIMESTAMP);

CREATE TABLE Categories ( category_id INT AUTO_INCREMENT PRIMARY KEY, user_id INT, name VARCHAR(255) NOT NULL, FOREIGN KEY (user_id) REFERENCES Users(user_id) );

create table tags ( tag_id int auto_increment primary key, user_id int, name varchar(255) not null, foreign key (user_id) references users(user_id) );

create table Notes (note_id int auto_increment primary key, user_id int, title varchar(255) not null, content text, created_at timestamp default current_timestamp, updated_at timestamp default current_timestamp on update current_timestamp, category_id int, tag_id int, foreign key (user_id) references users(user_id), foreign key (category_id) references categories(category_id), foreign key (tag_id) references tags(tag_id) );